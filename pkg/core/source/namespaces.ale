
;;;; ale core: namespaces

;; namespace management
(def-special :private in-ns*)
(def-special :private declared*)

; in-ns* and declared* are private, so a macroexpand will actually leak them to
; the calling code, which is not what we want, but it's better than nothing
(define-macro (define-namespace name . forms)
  (let ([in-ns in-ns*]
         [declared declared*])
    `(,in-ns ,name
       (begin ,@forms (,declared)))))
